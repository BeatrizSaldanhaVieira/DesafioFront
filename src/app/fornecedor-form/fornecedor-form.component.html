<div class="container mt-4">
    <h2>Cadastro de Fornecedor</h2>
    <form [formGroup]="fornecedorForm" (ngSubmit)="onSubmit()">
        <div class="mb-3">
            <label class="form-label">CNPJ/CPF</label>
            <input type="text" class="form-control" formControlName="cnpjCpf" [ngClass]="{'is-invalid': fornecedorForm.get('cnpjCpf').invalid && fornecedorForm.get('cnpjCpf').touched}" />
            <div *ngIf="fornecedorForm.get('cnpjCpf').invalid && fornecedorForm.get('cnpjCpf').touched" class="invalid-feedback">
                CNPJ/CPF inválido.
            </div>
        </div>

        <div class="mb-3">
            <label class="form-label">Nome</label>
            <input type="text" class="form-control" formControlName="nome" [ngClass]="{'is-invalid': fornecedorForm.get('nome').invalid && fornecedorForm.get('nome').touched}" />
            <div *ngIf="fornecedorForm.get('nome').invalid && fornecedorForm.get('nome').touched" class="invalid-feedback">
                O nome é obrigatório.
            </div>
        </div>

        <div class="mb-3">
            <label class="form-label">E-mail</label>
            <input type="email" class="form-control" formControlName="email" [ngClass]="{'is-invalid': fornecedorForm.get('email').invalid && fornecedorForm.get('email').touched}" />
            <div *ngIf="fornecedorForm.get('email').invalid && fornecedorForm.get('email').touched" class="invalid-feedback">
                E-mail inválido.
            </div>
        </div>

        <div class="mb-3">
            <label class="form-label">CEP</label>
            <input type="text" class="form-control" formControlName="cep" (blur)="validarCep()" [ngClass]="{'is-invalid': fornecedorForm.get('cep').invalid && fornecedorForm.get('cep').touched}" />
            <div *ngIf="fornecedorForm.get('cep').invalid && fornecedorForm.get('cep').touched" class="invalid-feedback">
                CEP inválido.
            </div>
        </div>

        <!-- Campos adicionais para pessoa física -->
        <div *ngIf="fornecedorForm.get('tipo').value === 'Física'" class="mb-3">
            <label class="form-label">Data de Nascimento</label>
            <input type="date" class="form-control" formControlName="dataNascimento" [ngClass]="{'is-invalid': fornecedorForm.get('dataNascimento').invalid && fornecedorForm.get('dataNascimento').touched}" />
            <div *ngIf="fornecedorForm.get('dataNascimento').invalid && fornecedorForm.get('dataNascimento').touched" class="invalid-feedback">
                A data de nascimento é obrigatória.
            </div>

            <label class="form-label">RG</label>
            <input type="text" class="form-control" formControlName="rg" [ngClass]="{'is-invalid': fornecedorForm.get('rg').invalid && fornecedorForm.get('rg').touched}" />
            <div *ngIf="fornecedorForm.get('rg').invalid && fornecedorForm.get('rg').touched" class="invalid-feedback">
                RG é obrigatório.
            </div>
        </div>

        <button type="submit" class="btn btn-primary" [disabled]="!fornecedorForm.valid">Salvar</button>
    </form>
</div>